/* tslint:disable */
/* eslint-disable */
/**
 * World of Tanks
 * OpenAPI specification for the Wargaming.net Public API. The official Wargaming.net Public API documentation can be found at the Wargaming [Developer\'s room](https://developers.wargaming.net/).
 *
 * The version of the OpenAPI document: 1.0.0
 * Contact: contact@ace-tanker.net
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime.js';
import type {
  AuthLoginResponse,
  AuthLogoutResponse,
  AuthProlongateResponse,
} from '../models/index.js';
import {
    AuthLoginResponseFromJSON,
    AuthLoginResponseToJSON,
    AuthLogoutResponseFromJSON,
    AuthLogoutResponseToJSON,
    AuthProlongateResponseFromJSON,
    AuthProlongateResponseToJSON,
} from '../models/index.js';

export interface GetAuthLoginRequest {
    display?: GetAuthLoginDisplayEnum;
    expires_at?: number;
    nofollow?: number;
    redirect_uri?: string;
}

export interface LogoutRequest {
    access_token: string;
}

export interface ProlongateRequest {
    access_token: string;
    expires_at?: number;
}

/**
 * AuthenticationApi - interface
 * 
 * @export
 * @interface AuthenticationApiInterface
 */
export interface AuthenticationApiInterface {
    /**
     * Method authenticates user based on Wargaming.net ID (OpenID) which is used in World of Tanks, World of Tanks Blitz, World of Warships, World of Warplanes, and WarGag.ru. To log in, player must enter email and password used for creating account, or use a social network profile. Authentication is not available for iOS Game Center users in the following cases: *  the account is not linked to a social network account, or *  email and password are not specified in the profile.  Information on authorization status is sent to URL specified in **redirect_uri** parameter.  If authentication is successful, the following parameters are sent to **redirect_uri**:  *  **status: ok** — successful authentication *  **access_token** — access token is passed in to all methods that require authentication *  **expires_at** — expiration date of **access_token** *  **account_id** — user ID *  **nickname** — user name.  If authentication fails, the following parameters are sent to **redirect_uri**:  *  **status: error** — authentication error *  **code** — error code *  **message** — error message.
     * @summary OpenID login
     * @param {'page' | 'popup'} [display] Layout for mobile applications.
     * @param {number} [expires_at] **Access_token** expiration time in UNIX. Delta can also be specified in seconds.  Expiration time and delta must not exceed two weeks from the current time.
     * @param {number} [nofollow] If parameter **nofollow&#x3D;1** is passed in, the user is not redirected. URL is returned in response.
     * @param {string} [redirect_uri] URL where user is redirected after authentication.  By default: [{API_HOST}/blank/](https://{API_HOST}/blank/)
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     * @memberof AuthenticationApiInterface
     */
    getAuthLoginRaw(requestParameters: GetAuthLoginRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<AuthLoginResponse>>;

    /**
     * Method authenticates user based on Wargaming.net ID (OpenID) which is used in World of Tanks, World of Tanks Blitz, World of Warships, World of Warplanes, and WarGag.ru. To log in, player must enter email and password used for creating account, or use a social network profile. Authentication is not available for iOS Game Center users in the following cases: *  the account is not linked to a social network account, or *  email and password are not specified in the profile.  Information on authorization status is sent to URL specified in **redirect_uri** parameter.  If authentication is successful, the following parameters are sent to **redirect_uri**:  *  **status: ok** — successful authentication *  **access_token** — access token is passed in to all methods that require authentication *  **expires_at** — expiration date of **access_token** *  **account_id** — user ID *  **nickname** — user name.  If authentication fails, the following parameters are sent to **redirect_uri**:  *  **status: error** — authentication error *  **code** — error code *  **message** — error message.
     * OpenID login
     */
    getAuthLogin(requestParameters: GetAuthLoginRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<AuthLoginResponse>;

    /**
     * Method deletes user\'s **access_token**.  After this method is called, **access_token** becomes invalid.
     * @summary Log out
     * @param {string} access_token [Access token](https://developers.wargaming.net/documentation/guide/principles/#access_token) for the private data of a user\\\&#39;s account; can be received via the authorization method; valid within a stated time period
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     * @memberof AuthenticationApiInterface
     */
    logoutRaw(requestParameters: LogoutRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<AuthLogoutResponse>>;

    /**
     * Method deletes user\'s **access_token**.  After this method is called, **access_token** becomes invalid.
     * Log out
     */
    logout(requestParameters: LogoutRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<AuthLogoutResponse>;

    /**
     * Method generates new **access_token** based on the current token.  This method is used when the player is still using the application but the current **access_token** is about to expire.
     * @summary Access Token extension
     * @param {string} access_token [Access token](https://developers.wargaming.net/documentation/guide/principles/#access_token) for the private data of a user\\\&#39;s account; can be received via the authorization method; valid within a stated time period
     * @param {number} [expires_at] **Access_token** expiration time in UNIX. Delta can also be specified in seconds.  Expiration time and delta must not exceed two weeks from the current time.
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     * @memberof AuthenticationApiInterface
     */
    prolongateRaw(requestParameters: ProlongateRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<AuthProlongateResponse>>;

    /**
     * Method generates new **access_token** based on the current token.  This method is used when the player is still using the application but the current **access_token** is about to expire.
     * Access Token extension
     */
    prolongate(requestParameters: ProlongateRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<AuthProlongateResponse>;

}

/**
 * 
 */
export class AuthenticationApi extends runtime.BaseAPI implements AuthenticationApiInterface {

    /**
     * Method authenticates user based on Wargaming.net ID (OpenID) which is used in World of Tanks, World of Tanks Blitz, World of Warships, World of Warplanes, and WarGag.ru. To log in, player must enter email and password used for creating account, or use a social network profile. Authentication is not available for iOS Game Center users in the following cases: *  the account is not linked to a social network account, or *  email and password are not specified in the profile.  Information on authorization status is sent to URL specified in **redirect_uri** parameter.  If authentication is successful, the following parameters are sent to **redirect_uri**:  *  **status: ok** — successful authentication *  **access_token** — access token is passed in to all methods that require authentication *  **expires_at** — expiration date of **access_token** *  **account_id** — user ID *  **nickname** — user name.  If authentication fails, the following parameters are sent to **redirect_uri**:  *  **status: error** — authentication error *  **code** — error code *  **message** — error message.
     * OpenID login
     */
    async getAuthLoginRaw(requestParameters: GetAuthLoginRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<AuthLoginResponse>> {
        const queryParameters: any = {};

        if (requestParameters['display'] != null) {
            queryParameters['display'] = requestParameters['display'];
        }

        if (requestParameters['expires_at'] != null) {
            queryParameters['expires_at'] = requestParameters['expires_at'];
        }

        if (requestParameters['nofollow'] != null) {
            queryParameters['nofollow'] = requestParameters['nofollow'];
        }

        if (requestParameters['redirect_uri'] != null) {
            queryParameters['redirect_uri'] = requestParameters['redirect_uri'];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.apiKey) {
            queryParameters["application_id"] = await this.configuration.apiKey("application_id"); // application_id authentication
        }


        let urlPath = `/auth/login/`;

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => AuthLoginResponseFromJSON(jsonValue));
    }

    /**
     * Method authenticates user based on Wargaming.net ID (OpenID) which is used in World of Tanks, World of Tanks Blitz, World of Warships, World of Warplanes, and WarGag.ru. To log in, player must enter email and password used for creating account, or use a social network profile. Authentication is not available for iOS Game Center users in the following cases: *  the account is not linked to a social network account, or *  email and password are not specified in the profile.  Information on authorization status is sent to URL specified in **redirect_uri** parameter.  If authentication is successful, the following parameters are sent to **redirect_uri**:  *  **status: ok** — successful authentication *  **access_token** — access token is passed in to all methods that require authentication *  **expires_at** — expiration date of **access_token** *  **account_id** — user ID *  **nickname** — user name.  If authentication fails, the following parameters are sent to **redirect_uri**:  *  **status: error** — authentication error *  **code** — error code *  **message** — error message.
     * OpenID login
     */
    async getAuthLogin(requestParameters: GetAuthLoginRequest = {}, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<AuthLoginResponse> {
        const response = await this.getAuthLoginRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Method deletes user\'s **access_token**.  After this method is called, **access_token** becomes invalid.
     * Log out
     */
    async logoutRaw(requestParameters: LogoutRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<AuthLogoutResponse>> {
        if (requestParameters['access_token'] == null) {
            throw new runtime.RequiredError(
                'access_token',
                'Required parameter "access_token" was null or undefined when calling logout().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.apiKey) {
            queryParameters["application_id"] = await this.configuration.apiKey("application_id"); // application_id authentication
        }

        const consumes: runtime.Consume[] = [
            { contentType: 'application/x-www-form-urlencoded' },
        ];
        // @ts-ignore: canConsumeForm may be unused
        const canConsumeForm = runtime.canConsumeForm(consumes);

        let formParams: { append(param: string, value: any): any };
        let useForm = false;
        if (useForm) {
            formParams = new FormData();
        } else {
            formParams = new URLSearchParams();
        }

        if (requestParameters['access_token'] != null) {
            formParams.append('access_token', requestParameters['access_token'] as any);
        }


        let urlPath = `/auth/logout/`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: formParams,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => AuthLogoutResponseFromJSON(jsonValue));
    }

    /**
     * Method deletes user\'s **access_token**.  After this method is called, **access_token** becomes invalid.
     * Log out
     */
    async logout(requestParameters: LogoutRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<AuthLogoutResponse> {
        const response = await this.logoutRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Method generates new **access_token** based on the current token.  This method is used when the player is still using the application but the current **access_token** is about to expire.
     * Access Token extension
     */
    async prolongateRaw(requestParameters: ProlongateRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<AuthProlongateResponse>> {
        if (requestParameters['access_token'] == null) {
            throw new runtime.RequiredError(
                'access_token',
                'Required parameter "access_token" was null or undefined when calling prolongate().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.apiKey) {
            queryParameters["application_id"] = await this.configuration.apiKey("application_id"); // application_id authentication
        }

        const consumes: runtime.Consume[] = [
            { contentType: 'application/x-www-form-urlencoded' },
        ];
        // @ts-ignore: canConsumeForm may be unused
        const canConsumeForm = runtime.canConsumeForm(consumes);

        let formParams: { append(param: string, value: any): any };
        let useForm = false;
        if (useForm) {
            formParams = new FormData();
        } else {
            formParams = new URLSearchParams();
        }

        if (requestParameters['access_token'] != null) {
            formParams.append('access_token', requestParameters['access_token'] as any);
        }

        if (requestParameters['expires_at'] != null) {
            formParams.append('expires_at', requestParameters['expires_at'] as any);
        }


        let urlPath = `/auth/prolongate/`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: formParams,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => AuthProlongateResponseFromJSON(jsonValue));
    }

    /**
     * Method generates new **access_token** based on the current token.  This method is used when the player is still using the application but the current **access_token** is about to expire.
     * Access Token extension
     */
    async prolongate(requestParameters: ProlongateRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<AuthProlongateResponse> {
        const response = await this.prolongateRaw(requestParameters, initOverrides);
        return await response.value();
    }

}

/**
  * @export
  * @enum {string}
  */
export enum GetAuthLoginDisplayEnum {
    Page = 'page',
    Popup = 'popup'
}
